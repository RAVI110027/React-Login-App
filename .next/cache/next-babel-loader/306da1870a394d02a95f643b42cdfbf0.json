{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread\";\nimport _getIterator from \"@babel/runtime-corejs2/core-js/get-iterator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport Joi from 'joi-browser';\nimport Link from 'next/link';\nimport Input from '../input/index';\n\nvar SignUp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignUp, _React$Component);\n\n  function SignUp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SignUp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SignUp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      signUp: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n      },\n      errors: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"schema\", {\n      firstName: Joi.string().required().label('First Name'),\n      lastName: Joi.string().required(),\n      // email: Joi.email({ minDomainAtoms: 2 }).required(), \n      password: Joi.string().required(),\n      confirmPassword: Joi.string().required()\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validate\", function () {\n      var options = {\n        abortEarly: false\n      };\n      var result = Joi.validate(_this.state.signUp, _this.schema, options);\n      if (!result.error) return null;\n      var errors = {};\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _getIterator(result.error.details), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          errors[item.path[0]] = item.message;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return errors;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"validateProperty\", function (_ref) {\n      var name = _ref.name,\n          value = _ref.value;\n\n      var obj = _defineProperty({}, name, value);\n\n      var schema = _defineProperty({}, name, _this.schema[name]);\n\n      var _Joi$validate = Joi.validate(obj, schema),\n          error = _Joi$validate.error;\n\n      return error ? error.details[0].message : null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (e) {\n      e.preventDefault();\n\n      var errors = _this.validate();\n\n      _this.setState({\n        errors: errors || {}\n      });\n\n      if (errors) return; // })\n      //Call to Server \n\n      console.log(\"SignUp Form Submitted\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (e) {\n      var errors = _objectSpread({}, _this.state.errors);\n\n      var errorMessage = _this.validateProperty(e.currentTarget);\n\n      if (errorMessage) errors[e.currentTarget.name] = errorMessage;else delete errors[e.currentTarget.name];\n\n      var signUp = _objectSpread({}, _this.state.signUp);\n\n      signUp[e.currentTarget.name] = e.currentTarget.value;\n\n      _this.setState({\n        signUp: signUp,\n        errors: errors\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSignUp\", function () {\n      console.log(\"First Name: \" + _this.state.signUp.firstName);\n      console.log(\"Last Name: \" + _this.state.signUp.lastName); // console.log(\"Email: \" + this.state.signUp.email);\n\n      console.log(\"Password: \" + _this.state.signUp.password);\n      console.log(\"Confirm Password: \" + _this.state.signUp.confirmPassword);\n    });\n\n    return _this;\n  }\n\n  _createClass(SignUp, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          signUp = _this$state.signUp,\n          errors = _this$state.errors;\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(\"h1\", {\n        className: \"text-center\"\n      }, \"SignUp Page\"), __jsx(\"form\", {\n        onSubmit: this.handleSubmit\n      }, __jsx(Input, {\n        name: \"firstName\",\n        value: signUp.firstName,\n        label: \"First Name\",\n        onChange: this.handleChange,\n        error: errors.firstName\n      }), __jsx(Input, {\n        name: \"lastName\",\n        value: signUp.lastName,\n        label: \"Last Name\",\n        onChange: this.handleChange,\n        error: errors.lastName\n      }), __jsx(Input, {\n        name: \"password\",\n        value: signUp.password,\n        label: \"Password\",\n        type: true,\n        onChange: this.handleChange\n      }), __jsx(Input, {\n        name: \"confirmPassword\",\n        value: signUp.confirmPassword,\n        label: \"Confirm Password\",\n        onChange: this.handleChange\n      }), __jsx(Link, {\n        href: \"/login\"\n      }, __jsx(\"button\", {\n        disabled: this.validate(),\n        type: \"submit\",\n        className: \"btn btn-primary\"\n      }, \"Submit [Real]\")), __jsx(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        onClick: this.handleSignUp\n      }, \"Submit For Data\"), __jsx(Link, {\n        href: \"/login\"\n      }, __jsx(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\"\n      }, \"Already A Member\")))));\n    }\n  }]);\n\n  return SignUp;\n}(React.Component);\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/ravi.shankar/Documents/POC/React-With-Server/components/signup/index.js"],"names":["React","Joi","Link","Input","SignUp","signUp","firstName","lastName","email","password","confirmPassword","errors","string","required","label","options","abortEarly","result","validate","state","schema","error","details","item","path","message","name","value","obj","e","preventDefault","setState","console","log","errorMessage","validateProperty","currentTarget","handleSubmit","handleChange","handleSignUp","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Joi from 'joi-browser';\nimport Link from 'next/link';\nimport Input from '../input/index';\n\nclass SignUp extends React.Component {\n\n      state = {\n        signUp:{\n          firstName: '',\n          lastName: '',\n          email: '',\n          password: '',\n          confirmPassword:''\n              },\n        errors: {}  \n      };   \n      \n      // state = {\n      //     firstName: '',\n      //     lastName: '',\n      //     email: '',\n      //     password: '',\n      //     confirmPassword:'' \n      // };  \n\n      schema = {\n        firstName: Joi.string().required().label('First Name'),\n        lastName: Joi.string().required(),\n        // email: Joi.email({ minDomainAtoms: 2 }).required(), \n        password: Joi.string().required(),\n        confirmPassword: Joi.string().required()\n      };\n\n      validate = () =>{\n        const options = { abortEarly : false};\n        const result = Joi.validate(this.state.signUp, this.schema, options);\n        if(!result.error) return null;\n\n        const errors= {};\n        for (let item of result.error.details)\n        errors[item.path[0]] = item.message;\n        return errors;\n      };\n\n      validateProperty = ({name, value}) =>{\n          const obj ={ [name]: value };\n          const schema ={ [name]: this.schema[name] };\n          const {error} =Joi.validate(obj, schema);\n          return error ? error.details[0].message : null;\n      };\n\nhandleSubmit= e =>{\n  e.preventDefault();\n\n  const errors = this.validate();\n this.setState({errors: errors || {} });\n if (errors) return;\n  // })\n//Call to Server \nconsole.log(\"SignUp Form Submitted\");\n}; \n\n  //   handleChange= event => {\n  //     this.setState({[event.target.name]: event.target.value});\n  //  }\n\n//   handleSignUp = () => {\n//     console.log(\"First Name: \" + this.state.firstName);\n//     console.log(\"Last Name: \" + this.state.lastName);\n//     console.log(\"Email: \" + this.state.email);\n//     console.log(\"Password: \" + this.state.password);\n//     console.log(\"Confirm Password: \" + this.state.confirmPassword);\n//  }\n\n  handleChange= e =>{\n    const errors = {...this.state.errors};\n    const errorMessage = this.validateProperty(e.currentTarget);\n    if (errorMessage) errors[e.currentTarget.name] = errorMessage;\n    else delete errors[e.currentTarget.name];\n\n    const signUp = {...this.state.signUp};\n    signUp[e.currentTarget.name] = e.currentTarget.value; \n    this.setState({signUp, errors});\n  };\n\n  handleSignUp = () => {\n    console.log(\"First Name: \" + this.state.signUp.firstName);\n    console.log(\"Last Name: \" + this.state.signUp.lastName);\n    // console.log(\"Email: \" + this.state.signUp.email);\n    console.log(\"Password: \" + this.state.signUp.password);\n    console.log(\"Confirm Password: \" + this.state.signUp.confirmPassword);\n }\n\nrender(){\n      const {signUp, errors} =this.state;\n\n    return (\n        <React.Fragment>\n          <div className=\"container\">\n            <h1 className=\"text-center\">\n              SignUp Page\n            </h1>\n\n            <form onSubmit={this.handleSubmit}>\n              <Input \n                name=\"firstName\"\n                value={signUp.firstName}\n                label=\"First Name\"\n                onChange={this.handleChange}\n                error={errors.firstName}\n              />\n\n              <Input\n                name=\"lastName\"\n                value={signUp.lastName}\n                label=\"Last Name\"\n                onChange={this.handleChange}\n                error={errors.lastName}\n              />\n\n              {/* <Input\n                name=\"email\"\n                value={signUp.email}\n                label=\"Email Id\"\n                onChange={this.handleChange}\n              /> */}\n\n              <Input\n                name=\"password\"\n                value={signUp.password}\n                label=\"Password\"\n                type\n                onChange={this.handleChange}\n              />\n\n              <Input\n                name=\"confirmPassword\"\n                value={signUp.confirmPassword}\n                label=\"Confirm Password\"\n                onChange={this.handleChange}\n              />\n\n              <Link href=\"/login\">\n                <button \n                disabled={this.validate()}\n                type=\"submit\" className=\"btn btn-primary\">Submit [Real]</button>\n              </Link>\n              <button type=\"submit\" className=\"btn btn-primary\" onClick={this.handleSignUp}>\n                Submit For Data\n              </button>\n              <Link href=\"/login\">\n                <button type=\"submit\" className=\"btn btn-primary\">Already A Member</button>\n              </Link>\n            </form>\n          </div>\n        </React.Fragment>\n      );\n    }\n  }\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}